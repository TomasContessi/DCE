Version 4
SHEET 1 1800 1284
WIRE -128 -496 -432 -496
WIRE 112 -496 -128 -496
WIRE 304 -496 112 -496
WIRE 736 -496 304 -496
WIRE 992 -496 736 -496
WIRE 112 -448 112 -496
WIRE 304 -448 304 -496
WIRE 992 -416 992 -496
WIRE 208 -400 176 -400
WIRE 240 -400 208 -400
WIRE 928 -368 848 -368
WIRE 848 -352 848 -368
WIRE 112 -304 112 -352
WIRE 208 -304 208 -400
WIRE 208 -304 112 -304
WIRE 304 -304 304 -352
WIRE 608 -304 304 -304
WIRE 784 -304 608 -304
WIRE 112 -272 112 -304
WIRE 992 -256 992 -320
WIRE 992 -256 848 -256
WIRE 992 -192 992 -256
WIRE 992 -176 992 -192
WIRE 112 -144 112 -192
WIRE -432 -96 -432 -496
WIRE -128 -64 -128 -496
WIRE 48 -64 -128 -64
WIRE 992 -64 992 -96
WIRE 736 -48 736 -496
WIRE 48 0 48 -64
WIRE 304 0 304 -304
WIRE 992 0 992 -64
WIRE 992 0 800 0
WIRE 1056 0 992 0
WIRE 1232 0 1120 0
WIRE -432 16 -432 -16
WIRE 992 32 992 0
WIRE 1120 32 1120 0
WIRE -16 48 -64 48
WIRE 448 48 368 48
WIRE 496 48 448 48
WIRE 736 48 704 48
WIRE 704 80 704 48
WIRE 176 96 48 96
WIRE 304 96 176 96
WIRE 1232 112 1232 0
WIRE -128 192 -128 -64
WIRE 496 192 496 48
WIRE 704 192 704 160
WIRE 704 192 496 192
WIRE -432 208 -432 176
WIRE 704 208 704 192
WIRE -128 304 -128 272
WIRE 0 304 -128 304
WIRE 704 304 704 288
WIRE 752 304 704 304
WIRE 864 304 848 304
WIRE -432 320 -432 288
WIRE -128 336 -128 304
WIRE 176 336 176 96
WIRE 704 352 704 304
WIRE 928 352 928 336
WIRE 928 352 832 352
WIRE 928 368 928 352
WIRE 0 384 0 304
WIRE 0 384 -64 384
WIRE 112 384 0 384
WIRE 864 432 864 304
WIRE -128 496 -128 432
WIRE 16 496 -128 496
WIRE 176 496 176 432
WIRE 176 496 16 496
WIRE 16 544 16 496
WIRE 1136 608 1120 608
WIRE 1136 736 1136 608
WIRE 1136 736 1120 736
WIRE 1232 736 1232 704
WIRE 1232 736 1136 736
WIRE 512 752 480 752
WIRE 624 752 592 752
WIRE 800 752 752 752
WIRE 1040 752 1040 608
WIRE 1040 752 880 752
WIRE 1056 752 1040 752
WIRE 1328 768 1328 752
WIRE 1328 768 1120 768
WIRE 1328 800 1328 768
WIRE 480 864 480 752
WIRE 528 864 480 864
WIRE 624 864 624 752
WIRE 624 864 592 864
WIRE 1408 944 1312 944
WIRE 624 976 624 864
WIRE 624 976 592 976
WIRE 864 976 624 976
WIRE 1008 976 944 976
WIRE 1104 976 1088 976
WIRE 288 992 192 992
WIRE 480 992 480 864
WIRE 480 992 368 992
WIRE 528 992 480 992
WIRE 1408 992 1408 944
WIRE 1408 992 1392 992
WIRE 752 1008 752 752
WIRE 752 1008 592 1008
WIRE 1312 1008 1312 944
WIRE 1312 1008 1296 1008
WIRE 1328 1008 1312 1008
WIRE 1456 1024 1392 1024
WIRE 1552 1024 1456 1024
WIRE 1456 1040 1456 1024
WIRE 1104 1072 1104 976
WIRE 1104 1072 1088 1072
WIRE 1008 1088 1008 976
WIRE 1024 1088 1008 1088
WIRE 1408 1088 1312 1088
WIRE 1216 1104 1216 1008
WIRE 1216 1104 1088 1104
WIRE 752 1120 752 1008
WIRE 1408 1136 1408 1088
WIRE 1408 1136 1392 1136
WIRE 1216 1152 1216 1104
WIRE 1312 1152 1312 1088
WIRE 1312 1152 1296 1152
WIRE 1328 1152 1312 1152
WIRE 1456 1168 1392 1168
WIRE 1552 1168 1456 1168
WIRE 1456 1184 1456 1168
FLAG 16 544 0
FLAG -432 320 0
FLAG -432 16 0
FLAG 112 -144 0
FLAG 1056 0 vout
FLAG 448 48 Verr
FLAG 1232 112 0
FLAG 704 432 0
FLAG 864 432 0
FLAG 928 448 0
FLAG 736 -496 VCC
FLAG 752 1200 0
FLAG 1104 896 0
FLAG 1328 880 0
FLAG 1088 784 0
FLAG 1456 1120 0
FLAG 1456 1264 0
FLAG 608 -304 Tpaso
FLAG 128 864 Tpaso
FLAG -112 992 VCC
FLAG 560 960 VCC
FLAG 1056 1056 VCC
FLAG 1088 720 VCC
FLAG 1360 976 VCC
FLAG 1360 1120 VCC
FLAG 1056 1120 0
FLAG 1360 1184 0
FLAG 560 1024 0
FLAG -432 176 Vref
FLAG -64 48 Vref
FLAG 1632 1024 Vref
FLAG 1632 1168 Verr
FLAG 992 -192 NodoS1
FLAG 992 -64 NodoS2
FLAG 1328 672 NodoS1
FLAG 1232 624 NodoS2
FLAG 928 256 Vcc
FLAG 1120 112 0
FLAG 992 112 0
FLAG 128 1040 0
SYMBOL npn 112 336 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL npn -64 336 M0
SYMATTR InstName Q2
SYMATTR Value 2N2222
SYMBOL npn 368 0 M0
SYMATTR InstName Q3
SYMATTR Value 2N2222
SYMBOL npn -16 0 R0
SYMATTR InstName Q4
SYMATTR Value 2N2222
SYMBOL npn 784 -352 R0
SYMATTR InstName Q5
SYMATTR Value BC547B
SYMBOL pnp 240 -352 M180
SYMATTR InstName Q7
SYMATTR Value BC557B
SYMBOL pnp 176 -352 R180
SYMATTR InstName Q8
SYMATTR Value BC557B
SYMBOL res -144 176 R0
SYMATTR InstName R1
SYMATTR Value 1325
SYMBOL res 128 -288 M0
SYMATTR InstName R2
SYMATTR Value 2650
SYMBOL pnp 928 -320 M180
SYMATTR InstName Q9
SYMATTR Value 2SA2210
SYMBOL voltage -432 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 1.2
SYMBOL voltage -432 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 6
SYMBOL npn 800 -48 M0
SYMATTR InstName Q6
SYMATTR Value BC547B
SYMBOL res 688 64 R0
SYMATTR InstName R4
SYMATTR Value 4k7
SYMBOL res 688 192 R0
SYMATTR InstName R3
SYMATTR Value 1k8
SYMBOL current 1120 32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I2
SYMATTR Value 1
SYMBOL res 688 336 R0
SYMATTR InstName R5
SYMATTR Value 2k2
SYMBOL res 912 352 R0
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL nmos 752 352 R270
SYMATTR InstName M2
SYMATTR Value BSC100N03LS
SYMBOL res 912 240 R0
SYMATTR InstName R7
SYMATTR Value 1K
SYMBOL npn 192 944 M0
SYMATTR InstName Q10
SYMATTR Value 2N2222
SYMBOL res 384 976 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R30
SYMATTR Value 100
SYMBOL OpAmps\\UniversalOpAmp 560 992 M0
SYMATTR InstName U1
SYMBOL res 608 736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 5k6
SYMBOL cap 592 848 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 20n
SYMBOL res 736 1104 R0
SYMATTR InstName R9
SYMATTR Value 5k6
SYMBOL res 960 960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 100
SYMBOL res 896 736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 100
SYMBOL OpAmps\\UniversalOpAmp 1088 752 M0
SYMATTR InstName U2
SYMBOL res 1136 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 28 61 VTop 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res 1248 720 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL res 1344 896 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL res 1312 656 R0
SYMATTR InstName R16
SYMATTR Value 1k
SYMBOL OpAmps\\UniversalOpAmp 1056 1088 M0
SYMATTR InstName U3
SYMBOL res 1104 960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 100k
SYMBOL res 1088 880 R0
SYMATTR InstName R18
SYMATTR Value 100k
SYMBOL res 1312 992 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 100k
SYMBOL OpAmps\\UniversalOpAmp 1360 1008 M0
SYMATTR InstName U4
SYMBOL res 1440 1024 R0
SYMATTR InstName R20
SYMATTR Value 100k
SYMBOL res 1648 1008 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 500k
SYMBOL res 1312 1136 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 100k
SYMBOL OpAmps\\UniversalOpAmp 1360 1152 M0
SYMATTR InstName U5
SYMBOL res 1440 1168 R0
SYMATTR InstName R23
SYMATTR Value 460k
SYMBOL res 1648 1152 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 544k
SYMBOL res 976 -192 R0
SYMATTR InstName Rs
SYMATTR Value 0.1
SYMBOL res 976 16 R0
SYMATTR InstName Rl
SYMATTR Value {Rl}
SYMBOL res 112 848 R0
SYMATTR InstName R6
SYMATTR Value 10
TEXT -464 568 Left 2 !.op
TEXT -464 592 Left 2 !;tran 0.01
TEXT -472 608 Left 2 !;dc I2 100m 1 10m
TEXT 1376 -392 Left 2 !.lib 2SA2210-SPICE-D.LIB
TEXT 1400 72 Left 2 !.step param Rl 0.01 10 0.1
